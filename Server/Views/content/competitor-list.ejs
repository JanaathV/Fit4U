<!--  File Name: competitor-list.ejs
      Author: Web Wiz
      Group Number: 1
      Date: July 13, 2021
-->

<div class="container">
  <h1>Competitor List</h1>
<% if(displayName) { %>
<a href='/competitor-list/add' id="addButton" class="btn btn-primary"><i class="fas fa-plus"></i> Add Competitor</a>
<% } %>
<br><br>

<table class="table table-striped">
    <thead class="table-dark">
    <tr>
        <th scope="col" id="tourney_ID" onload="get()"></th>     
    </tr>
    </thead>
    <thead class="table-dark">
      <tr>
        <th scope="col">#</th>
        <th scope="col">Full Name</th>
        <th scope="col">Bio</th>
        <th scope="col"></th>
        <th scope="col"></th>
      </tr>
    </thead>
    <tbody>
          
      <% for(let count = 0; count < competitor.length; count++) { %>
      
        <tr>
          <th scope="row"><%= count + 1 %></th>
          <td><%= competitor[count].fullname %> </td>
          <td><%= competitor[count].description %> </td>

          <% if(displayName) { %>
          <td class="text-center"><a href="/competitor-list/edit/<%= competitor[count]._id %>" class="btn btn-primary btn-sm edit"><i class="fas fa-edit fa-sm"></i> Edit</a></td>
          <td class="text-center"><a href="/competitor-list/delete/<%= competitor[count]._id %>" onclick="return confirm('Are you sure you want to delete this item? This action cannot be undone!');"class="btn btn-danger"><i class="fas fa-trash-alt fa-sm"></i> Delete</a></td>
          <% } %>
        </tr>

        <% } %>

    </tbody>
  </table>
</div>
<script>
  function get () {
  let tourneyID = sessionStorage.getItem("tourney")
  console.log(tourneyID);
  document.getElementById("tourney_ID").innerHTML="Tournament Custom ID: " + tourneyID;
}
</script>